<!doctype html>
<html>
<head>

    <meta charset="utf-8">
    <title>Desktop</title>
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width">
    <link href="../assets/design/core.css" rel="stylesheet">
    <link href="../assets/design/desktop.css" rel="stylesheet">
    <link href="../assets/design/window.css" rel="stylesheet">
    <link href="../assets/design/toolbar.css" rel="stylesheet">
    <link href="../assets/design/notifications.css" rel="stylesheet">
    <link href="../assets/design/context-menu.css" rel="stylesheet">

    <style>

        body {
            display: none;
            background: url(../assets/wallpaper.png) no-repeat center center fixed;
        }

    </style>

    <script>
        const $ = require("jquery");
        const moment = require("moment");
        const { remote } = require("electron");

        // Core
        const { WindowManager, Notification, Taskbar, ContextMenu } = require("../core/System");

        // Apps
        const BrowserApp = require("../apps/Browser/");
        const TerminalApp = require("../apps/Terminal/");

        $(() => {
            setTimeout(() => $("body").fadeIn(250), 200);

            const taskbar = new Taskbar(".toolbar");
            const browser = new BrowserApp();
            const terminal = new TerminalApp();

            taskbar.addPin(browser);
            taskbar.addPin(terminal);

            setTimeout(() => {
                new Notification({
                    title: "System",
                    message: "Initialised",
                    image: "../assets/images/system.png"
                });
            }, 700);
        });
    </script>

</head>
<body>

    <div class="desktop"></div>

    <div class="notifications pos-bottom-right" id="breadbox"></div>

    <div class="toolbar"></div>

    <script>
    $(document).keyup((e) => {
      if (e.keyCode == 116) location.reload();
    });
    </script>
</body>
</html>
